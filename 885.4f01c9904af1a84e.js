"use strict";(self.webpackChunkstock_analysis=self.webpackChunkstock_analysis||[]).push([[885],{6885:(J,g,n)=>{n.r(g),n.d(g,{StrategiesModule:()=>D});var m=n(9808),u=n(1083),h=n(3430),r=n(3075),l=n(8966),S=n(1042),t=n(5e3),p=n(7322),C=n(7531),f=n(7423);let v=(()=>{class a{constructor(e,o,i){this.fb=e,this.dialogRef=o,this.data=i}ngOnInit(){this.strategyForm=this.fb.group({name:["",[r.kI.required]]})}onSave(){const e={id:(0,S.Z)(),name:this.strategyForm.get("name").value,dateAdded:new Date,color:null,copiedFrom:null};this.dialogRef.close(e)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(r.qu),t.Y36(l.so),t.Y36(l.WI))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-strategy-dialog"]],decls:11,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup"],["appearance","fill"],["matInput","","formControlName","name"],["mat-dialog-actions",""],["mat-button","","color","primary",3,"disabled","click"]],template:function(e,o){1&e&&(t.TgZ(0,"h1",0),t._uU(1,"Add Strategy"),t.qZA(),t.TgZ(2,"div",1)(3,"form",2)(4,"mat-form-field",3)(5,"mat-label"),t._uU(6,"Strategy name"),t.qZA(),t._UZ(7,"input",4),t.qZA()()(),t.TgZ(8,"div",5)(9,"button",6),t.NdJ("click",function(){return o.onSave()}),t._uU(10,"Save"),t.qZA()()),2&e&&(t.xp6(3),t.Q6J("formGroup",o.strategyForm),t.xp6(6),t.Q6J("disabled",o.strategyForm.invalid))},directives:[l.uh,l.xY,r._Y,r.JL,r.sg,p.KE,p.hX,C.Nt,r.Fj,r.JJ,r.u,l.H8,f.lW],styles:[""]}),a})();var x=n(7826),Z=n(7264),y=n(9224),b=n(7446),A=n(8099);function T(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"mat-card",4)(1,"mat-card-title"),t._uU(2),t.qZA(),t.TgZ(3,"div",5)(4,"mat-checkbox",6),t.NdJ("click",function(i){return i.stopPropagation()})("change",function(i){const d=t.CHM(e).$implicit;return t.oxw().makeDefault(i,d)}),t._uU(5,"Make Default"),t.qZA(),t.TgZ(6,"button",7)(7,"mat-icon"),t._uU(8,"edit"),t.qZA()(),t.TgZ(9,"button",8),t.NdJ("click",function(i){const d=t.CHM(e).$implicit;return t.oxw().onDeleteStrategy(d,i)}),t.TgZ(10,"mat-icon"),t._uU(11,"delete"),t.qZA()()()()}if(2&a){const e=s.$implicit,o=t.oxw();t.Q6J("routerLink",e.id),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("checked",e.id===o.defaultStrategy)("disabled",e.id===o.defaultStrategy)}}let k=(()=>{class a{constructor(e,o){this.ss=e,this.dialog=o}ngOnInit(){this.ss.strategies$.subscribe(e=>{this.strategies=e}),this.defaultStrategy=this.ss.getDefaultStrategyId()}onAddStrategy(){this.dialog.open(v).afterClosed().subscribe(o=>{o&&this.ss.add(o)})}onDeleteStrategy(e,o){o.stopPropagation(),this.dialog.open(x.$,{data:{title:"Delete Strategy",message:`Are you sure you want to delete strategy ${e.name}`}}).afterClosed().subscribe(c=>{c&&this.ss.delete(e)})}makeDefault(e,o){e.checked&&(this.defaultStrategy=o.id,this.ss.setDefaultStrategy(o.id))}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(Z.D),t.Y36(l.uw))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-strategies"]],decls:5,vars:1,consts:[[1,"strategies"],[1,"add-strategy"],["mat-button","","color","primary",3,"click"],[3,"routerLink",4,"ngFor","ngForOf"],[3,"routerLink"],[1,"actions"],[3,"checked","disabled","click","change"],["mat-icon-button","","color","primary","aria-label","Editor"],["mat-icon-button","","color","warn","aria-label","Delete",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"mat-card",1)(2,"button",2),t.NdJ("click",function(){return o.onAddStrategy()}),t._uU(3,"Add Strategy"),t.qZA()(),t.YNc(4,T,12,4,"mat-card",3),t.qZA()),2&e&&(t.xp6(4),t.Q6J("ngForOf",o.strategies))},directives:[y.a8,f.lW,m.sg,u.rH,y.n5,b.oG,A.Hw],styles:[".strategies[_ngcontent-%COMP%]{margin-top:30px;display:flex;flex-wrap:wrap;position:relative}.strategies[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-right:20px;width:200px;height:120px;cursor:pointer}.strategies[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0}.add-strategy[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),a})(),D=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[m.ez,h.R,r.UX,u.Bz.forChild([{path:"",component:k}])]]}),a})()}}]);